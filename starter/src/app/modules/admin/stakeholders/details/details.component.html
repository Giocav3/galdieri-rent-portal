<div class="flex w-full flex-col h-full overflow-hidden">
    <!-- Header con tasto chiusura -->
    <div class="sticky top-0 z-20 bg-accent-100 dark:bg-accent-700 px-8 sm:px-12 shadow">
      <div class="mx-auto flex w-full max-w-3xl items-center justify-end py-4">
        <button mat-icon-button matTooltip="Close" (click)="closePanel()">
          <mat-icon class="text-white" svgIcon="heroicons_outline:x-mark"></mat-icon>
        </button>
      </div>
    </div>
  
    <!-- Contenuto scrollabile -->
    <div class="flex-auto overflow-auto">
      <div class="flex flex-col items-center p-6 sm:p-12">
        <div class="w-full max-w-3xl">
  
          <!-- Avatar -->
          <div class="-mt-16 flex items-end">
            <div class="flex h-32 w-32 items-center justify-center overflow-hidden rounded-full ring-4 bg-gray-200 text-5xl font-bold uppercase text-gray-600 dark:bg-gray-700 dark:text-gray-200">
              {{ getInitials(matchedStakeholders()[0]?.personalData) }}
            </div>
          </div>
  
          <!-- Nome Completo -->
          <div class="mt-3 truncate text-4xl font-bold">
            {{ matchedStakeholders()[0]?.personalData.title }} {{ matchedStakeholders()[0]?.personalData.name }} {{ matchedStakeholders()[0]?.personalData.surname }}
          </div>
  
          <!-- Informazioni principali -->
          <div class="mt-4 flex flex-col space-y-8 border-t pt-6">
  
            <div class="flex sm:items-center">
              <mat-icon svgIcon="heroicons_outline:briefcase"></mat-icon>
              <div class="ml-6 leading-6">
                {{ contact.stakeholder.stakeholderType }} - {{ contact.stakeholder.type }}
              </div>
            </div>
  
            <div class="flex sm:items-center">
              <mat-icon svgIcon="heroicons_outline:building-office-2"></mat-icon>
              <div class="ml-6 leading-6">
                {{ contact.stakeholder.companyName }}
              </div>
            </div>
  
            <div class="flex sm:items-center">
              <mat-icon svgIcon="heroicons_outline:identification"></mat-icon>
              <div class="ml-6 leading-6">
                {{ contact.stakeholder.taxIdentifier }}
              </div>
            </div>
  
            <div class="flex flex-col space-y-2">
              <div class="flex">
                <mat-icon svgIcon="heroicons_outline:envelope"></mat-icon>
                <div class="ml-6">{{ matchedStakeholders()[0]?.personalData.email }}</div>
              </div>
  
              <div class="flex">
                <mat-icon svgIcon="heroicons_outline:phone"></mat-icon>
                <div class="ml-6">{{ matchedStakeholders()[0]?.personalData.phone }}</div>
              </div>
  
              <div class="flex">
                <mat-icon svgIcon="heroicons_outline:map-pin"></mat-icon>
                <div class="ml-6">
                  {{ matchedStakeholders()[0]?.personalData.address }}, {{ matchedStakeholders()[0]?.personalData.houseNumber }},<br>
                  {{ matchedStakeholders()[0]?.personalData.common }} ({{ matchedStakeholders()[0]?.personalData.province }}) - {{ matchedStakeholders()[0]?.personalData.cap }}
                </div>
              </div>
  
              <div class="flex">
                <mat-icon svgIcon="heroicons_outline:cake"></mat-icon>
                <div class="ml-6">
                  Nato a {{ matchedStakeholders()[0]?.personalData.birthPlace }} ({{ matchedStakeholders()[0]?.personalData.birthCounty }}) il {{ matchedStakeholders()[0]?.personalData.birthday | date:'dd/MM/yyyy' }}
                </div>
              </div>
  
              <div class="flex">
                <mat-icon svgIcon="heroicons_outline:user"></mat-icon>
                <div class="ml-6">
                  Codice Fiscale: {{ matchedStakeholders()[0]?.personalData.fiscalCode }}
                </div>
              </div>
            </div>
          </div>
  
          <!-- Lista Stakeholders Collegati -->
          <div class="mt-8 border-t pt-6" *ngIf="matchedStakeholders().length > 1">
            <h3 class="text-xl font-semibold">Stakeholders Collegati</h3>
            <div class="space-y-4 mt-4">
              <div *ngFor="let match of matchedStakeholders().slice(1)" class="rounded border p-4 shadow-sm">
                <div class="font-bold">{{ match.personalData.title }} {{ match.personalData.name }} {{ match.personalData.surname }}</div>
                <div class="text-sm text-gray-600">{{ match.stakeholderType }} - {{ match.type }}</div>
                <div class="text-sm">{{ match.companyName }}</div>
                <div class="text-sm">{{ match.taxIdentifier }}</div>
                <div class="text-sm">{{ match.personalData.email }}</div>
                <div class="text-sm">{{ match.personalData.phone }}</div>
                <div class="text-sm">
                  {{ match.personalData.address }}, {{ match.personalData.houseNumber }},<br>
                  {{ match.personalData.common }} ({{ match.personalData.province }}) - {{ match.personalData.cap }}
                </div>
              </div>
            </div>
          </div>
  
        </div>
      </div>
    </div>
  </div>